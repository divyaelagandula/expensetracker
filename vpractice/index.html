<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Signup</title>
</head>
<body>
   <form onsubmit="submitForm(event)">
    <label for="name">Enter name</label>
    <input type="text" id="name" required><br><br>

    <label for="email">Enter email</label>
    <input type="email" id="email" required><br><br> <label for="password">Enter password</label>
    <input type="password" id="password" required><br><br>

    <button type="submit">Signup</button>
</form>

</body>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    function submitForm(e) {
        // ðŸŸ¢ FIX: Prevent the default form submission (stops page reload)
        e.preventDefault(); 

        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        // Basic client-side check (though 'required' should handle this)
        if (!name || !email || !password) {
            console.log("All fields are required.");
            // Optionally, show an alert or error message to the user
            return; 
        }

        const obj = {
            name,
            email,
            password
        };

        console.log("Sending data:", obj);

        axios.post('http://localhost:3000/user/signup', obj)
            .then((res) => {
                console.log("Signup successful:", res.data.message);
                // Handle success (e.g., redirect or show a success message)
                alert(res.data.message);
            })
            .catch((err) => {
                // Log the response error message from the server if available
                const errorMessage = err.response ? err.response.data.error : "An unknown error occurred.";
                console.error("Signup failed:", errorMessage);
                alert("Error: " + errorMessage);
            });
    }

</script>
</html>